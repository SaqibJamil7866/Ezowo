(this.webpackJsonpJira=this.webpackJsonpJira||[]).push([[54],{1301:function(e,t,a){},1663:function(e,t,a){"use strict";a.r(t);var l=a(15),n=a(1),s=a(2),c=a.n(s),r=a(98),i=a(13),o=a(1537),d=a(1295),b=a(1120),u=a(1298),j=a(1300),m=a(138),v=a(1060),O=a(508),h=a(10),f=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1],f=Object(n.useRef)(null),p=e.isRtl,x=e.dispatch,g=e.calendarsColor,N=e.handleAddEventSidebar,y=e.blankEvent,D=e.toggleSidebar,E=e.selectEvent,C=e.updateEvent;Object(n.useEffect)((function(){var e={projectId:"",startDate:"2000-01-01",endDate:"2099-12-31",user_id:JSON.parse(localStorage.getItem("userData")).id};Object(O.f)(e).then((function(e){if(e&&e.response&&(200===e.response.code||400===e.response.code)&&e.response.data){for(var t=e.response.data,a=0;a<t.length;a++)t[a].start=new Date((new Date).getTime()+864e5),t[a].end=new Date((new Date).getTime()+1728e5),t[a].extendedProps={calendar:"Business"};c({events:t})}}))}),[]);var w={events:s,plugins:[j.a,b.b,u.a,d.a],initialView:"dayGridMonth",headerToolbar:{start:"sidebarToggle, prev,next, title",end:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,eventClassNames:function(e){var t=e.event,a=g[t._def.extendedProps.calendar];return["bg-light-".concat(a)]},eventClick:function(e){var t=e.event;x(E(t)),N()},customButtons:{sidebarToggle:{text:Object(h.jsx)(v.a,{className:"d-xl-none d-block"}),click:function(){D(!0)}}},dateClick:function(e){var t=y;t.start=e.date,t.end=e.date,x(E(t)),N()},eventDrop:function(e){var t=e.event;x(C(t)),m.b.success("Event Updated")},eventResize:function(e){var t=e.event;x(C(t)),m.b.success("Event Updated")},ref:f,direction:p?"rtl":"ltr"};return Object(h.jsx)(r.l,{className:"shadow-none border-0 mb-0 rounded-0",children:Object(h.jsxs)(r.m,{className:"pb-0",children:[Object(h.jsx)(o.a,Object(i.a)({},w))," "]})})},p=Object(n.memo)(f),x=(a(17),a(764),a(71)),g=a(136),N=a(482),y=a(971),D=a(498),E=a.n(D),C=a(576),w=a(493),S=a(510),k=a.n(S),P=a(489),B=a(486),F=a(41),T=a(80),A=a(79),R=a(103),L=a(51),U=a(263),G=(a(511),a(495),["data"]),J=["data"],H=function(e){var t=e.open,a=e.store,s=e.dispatch,c=e.addEvent,o=e.calendarApi,d=e.selectEvent,b=e.updateEvent,u=e.removeEvent,j=e.refetchEvents,v=e.calendarsColor,O=e.handleAddEventSidebar,f=a.selectedEvent,p=Object(P.e)({defaultValues:{title:""}}),D=p.control,S=p.setError,H=p.setValue,M=p.getValues,V=p.handleSubmit,K=p.formState.errors,z=Object(n.useState)(""),I=Object(l.a)(z,2),q=I[0],Y=I[1],_=Object(n.useState)(""),Q=Object(l.a)(_,2),W=Q[0],X=Q[1],Z=Object(n.useState)({}),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),le=Object(l.a)(ae,2),ne=le[0],se=le[1],ce=Object(n.useState)(""),re=Object(l.a)(ce,2),ie=re[0],oe=re[1],de=Object(n.useState)(new Date),be=Object(l.a)(de,2),ue=be[0],je=be[1],me=Object(n.useState)(new Date),ve=Object(l.a)(me,2),Oe=ve[0],he=ve[1],fe=Object(n.useState)([{value:"Business",label:"Business",color:"primary"}]),pe=Object(l.a)(fe,2),xe=pe[0],ge=pe[1],Ne=[{value:"Donna Frank",label:"Donna Frank",avatar:F.default},{value:"Jane Foster",label:"Jane Foster",avatar:T.default},{value:"Gabrielle Robertson",label:"Gabrielle Robertson",avatar:A.default},{value:"Lori Spears",label:"Lori Spears",avatar:R.default},{value:"Sandy Vega",label:"Sandy Vega",avatar:L.default},{value:"Cheryl May",label:"Cheryl May",avatar:U.default}],ye=function(){if(M("title").length){var e={id:f.id,title:M("title"),allDay:ne,start:Oe,end:ue,url:q,display:!1===ne?"block":void 0,extendedProps:{location:ie,description:W,guests:ee,calendar:xe[0].label}};s(b(e)),function(e,t,a){for(var l=o.getEventById(e.id),n=0;n<t.length;n++){var s=t[n];l.setProp(s,e[s])}l.setDates(new Date(e.start),new Date(e.end),{allDay:e.allDay});for(var c=0;c<a.length;c++){var r=a[c];l.setExtendedProp(r,e.extendedProps[r])}}(e,["id","title","url"],["calendar","guests","location","description"]),O(),m.b.success("Event Updated")}else S("title",{type:"manual"})},De=function(){var e;s(u(f.id)),e=f.id,o.getEventById(e).remove(),O(),m.b.error("Event Removed")},Ee=function(){return Object(B.i)(f)||!Object(B.i)(f)&&!f.title.length?Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)(r.i,{className:"me-1",type:"submit",color:"primary",children:"Add"}),Object(h.jsx)(r.i,{color:"secondary",type:"reset",onClick:O,outline:!0,children:"Cancel"})]}):Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)(r.i,{className:"me-1",color:"primary",onClick:ye,children:"Update"}),Object(h.jsx)(r.i,{color:"danger",onClick:De,outline:!0,children:"Delete"})]})},Ce=Object(h.jsx)(y.a,{className:"cursor-pointer",size:15,onClick:O});return Object(h.jsxs)(r.Q,{isOpen:t,className:"sidebar-lg",toggle:O,onOpened:function(){if(!Object(B.i)(f)){var e=f.extendedProps.calendar;H("title",f.title||M("title")),se(f.allDay||ne),Y(f.url||q),oe(f.extendedProps.location||ie),X(f.extendedProps.description||W),te(f.extendedProps.guests||ee),he(new Date(f.start)),je(f.allDay?new Date(f.start):new Date(f.end)),ge([e.length?{label:e,value:e,color:v[e]}:{value:"Business",label:"Business",color:"primary"}])}},onClosed:function(){s(d({})),H("title",""),se(!1),Y(""),oe(""),X(""),te({}),ge([{value:"Business",label:"Business",color:"primary"}]),he(new Date),je(new Date)},contentClassName:"p-0 overflow-hidden",modalClassName:"modal-slide-in event-sidebar",children:[Object(h.jsx)(r.T,{className:"mb-1",toggle:O,close:Ce,tag:"div",children:Object(h.jsxs)("h5",{className:"modal-title",children:[f&&f.title&&f.title.length?"Update":"Add"," Event"]})}),Object(h.jsx)(k.a,{options:{wheelPropagation:!1},children:Object(h.jsx)(r.R,{className:"flex-grow-1 pb-sm-0 pb-3",children:Object(h.jsxs)(r.H,{onSubmit:V((function(e){e.title.length?Object(B.i)(K)&&(Object(B.i)(f)||!Object(B.i)(f)&&!f.title.length?function(){var e={title:M("title"),start:Oe,end:ue,allDay:ne,display:"block",extendedProps:{calendar:xe[0].label,url:q.length?q:void 0,guests:ee.length?ee:void 0,location:ie.length?ie:void 0,desc:W.length?W:void 0}};s(c(e)),j(),O(),m.b.success("Event Added")}():ye(),O()):S("title",{type:"manual"})})),children:[Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsxs)(r.N,{className:"form-label",for:"title",children:["Title ",Object(h.jsx)("span",{className:"text-danger",children:"*"})]}),Object(h.jsx)(P.a,{name:"title",control:D,render:function(e){var t=e.field;return Object(h.jsx)(r.K,Object(i.a)({id:"title",placeholder:"Title",invalid:K.title&&!0},t))}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(r.N,{className:"form-label",for:"label",children:"Label"}),Object(h.jsx)(w.a,{id:"label",value:xe,options:[{value:"Business",label:"Business",color:"primary"},{value:"Personal",label:"Personal",color:"danger"},{value:"Family",label:"Family",color:"warning"},{value:"Holiday",label:"Holiday",color:"success"},{value:"ETC",label:"ETC",color:"info"}],theme:B.l,className:"react-select",classNamePrefix:"select",isClearable:!1,onChange:function(e){return ge([e])},components:{Option:function(e){var t=e.data,a=Object(g.a)(e,G);return Object(h.jsxs)(C.r.Option,Object(i.a)(Object(i.a)({},a),{},{children:[Object(h.jsx)("span",{className:"bullet bullet-".concat(t.color," bullet-sm me-50")}),t.label]}))}}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(r.N,{className:"form-label",for:"startDate",children:"Start Date"}),Object(h.jsx)(E.a,{required:!0,id:"startDate",name:"startDate",className:"form-control",onChange:function(e){return he(e[0])},value:Oe,options:{enableTime:!1===ne,dateFormat:"Y-m-d H:i"}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(r.N,{className:"form-label",for:"endDate",children:"End Date"}),Object(h.jsx)(E.a,{required:!0,id:"endDate",name:"endDate",className:"form-control",onChange:function(e){return je(e[0])},value:ue,options:{enableTime:!1===ne,dateFormat:"Y-m-d H:i"}})]}),Object(h.jsxs)("div",{className:"form-switch mb-1",children:[Object(h.jsx)(r.K,{id:"allDay",type:"switch",className:"me-1",checked:ne,name:"customSwitch",onChange:function(e){return se(e.target.checked)}}),Object(h.jsx)(r.N,{className:"form-label",for:"allDay",children:"All Day"})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(r.N,{className:"form-label",for:"eventURL",children:"Event URL"}),Object(h.jsx)(r.K,{type:"url",id:"eventURL",value:q,onChange:function(e){return Y(e.target.value)},placeholder:"https://www.google.com"})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(r.N,{className:"form-label",for:"guests",children:"Guests"}),Object(h.jsx)(w.a,{isMulti:!0,id:"guests",className:"react-select",classNamePrefix:"select",isClearable:!1,options:Ne,theme:B.l,value:ee.length?Object(x.a)(ee):null,onChange:function(e){return te(Object(x.a)(e))},components:{Option:function(e){var t=e.data,a=Object(g.a)(e,J);return Object(h.jsx)(C.r.Option,Object(i.a)(Object(i.a)({},a),{},{children:Object(h.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(h.jsx)(N.a,{className:"my-0 me-1",size:"sm",img:t.avatar}),Object(h.jsx)("div",{children:t.label})]})}))}}})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(r.N,{className:"form-label",for:"location",children:"Location"}),Object(h.jsx)(r.K,{id:"location",value:ie,onChange:function(e){return oe(e.target.value)},placeholder:"Office"})]}),Object(h.jsxs)("div",{className:"mb-1",children:[Object(h.jsx)(r.N,{className:"form-label",for:"description",children:"Description"}),Object(h.jsx)(r.K,{type:"textarea",name:"text",id:"description",rows:"3",value:W,onChange:function(e){return X(e.target.value)},placeholder:"Description"})]}),Object(h.jsx)("div",{className:"d-flex mb-1",children:Object(h.jsx)(Ee,{})})]})})})]})},M=a(566),V=a(137),K=a(167),z=(a(1301),{Business:"primary",Holiday:"success",Personal:"danger",Family:"warning",ETC:"info"});t.default=function(){var e=Object(V.b)(),t=Object(V.c)((function(e){return e.calendar})),a=Object(n.useState)(null),s=Object(l.a)(a,2),i=s[0],o=s[1],d=Object(n.useState)(!1),b=Object(l.a)(d,2),u=b[0],j=b[1],m=Object(M.a)(),v=Object(l.a)(m,1)[0],O=function(){},f=function(e){return j(e)};return Object(n.useEffect)((function(){e(Object(K.c)(t.selectedCalendars))}),[]),Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("div",{className:"app-calendar overflow-hidden border",children:Object(h.jsxs)(r.ib,{className:"g-0",children:[Object(h.jsx)(r.B,{className:"position-relative",children:Object(h.jsx)(p,{isRtl:v,store:t,dispatch:e,blankEvent:{title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:"",guests:[],location:"",description:""}},calendarApi:i,selectEvent:K.e,updateEvent:K.f,toggleSidebar:f,calendarsColor:z,setCalendarApi:o,handleAddEventSidebar:O})}),Object(h.jsx)("div",{className:c()("body-content-overlay",{show:!0===u}),onClick:function(){return f(!1)}})]})}),Object(h.jsx)(H,{store:t,dispatch:e,addEvent:K.a,selectEvent:K.e,updateEvent:K.f,removeEvent:K.d,calendarApi:i,refetchEvents:function(){null!==i&&i.refetchEvents()},calendarsColor:z,handleAddEventSidebar:O})]})}},495:function(e,t,a){},764:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/calendar-illustration.42be42ce.png"}}]);
//# sourceMappingURL=54.6a293d5c.chunk.js.map