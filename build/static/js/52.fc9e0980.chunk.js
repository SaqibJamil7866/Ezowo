(this.webpackJsonpJira=this.webpackJsonpJira||[]).push([[52],{1679:function(e,a,t){"use strict";t.r(a);var l=t(13),n=t(15),s=t(482),c=(t(1109),t(1020),t(1026),t(970),t(1089),t(1066)),i=t(984),r=t(1099),o=t(1001),d=t(1),u=t(544),j=t(486),b=t(493),m=t(2),v=t.n(m),h=t(98),O=t(508),x=(t(137),t(10)),p=[{label:"Australia",value:"Australia"},{label:"Bangladesh",value:"Bangladesh"},{label:"Belarus",value:"Belarus"},{label:"Brazil",value:"Brazil"},{label:"Canada",value:"Canada"},{label:"China",value:"China"},{label:"France",value:"France"},{label:"Germany",value:"Germany"},{label:"India",value:"India"},{label:"Indonesia",value:"Indonesia"},{label:"Israel",value:"Israel"},{label:"Italy",value:"Italy"},{label:"Japan",value:"Japan"},{label:"Korea",value:"Korea"},{label:"Mexico",value:"Mexico"},{label:"Philippines",value:"Philippines"},{label:"Russia",value:"Russia"},{label:"South",value:"South"},{label:"Thailand",value:"Thailand"},{label:"Turkey",value:"Turkey"},{label:"Ukraine",value:"Ukraine"},{label:"United Arab Emirates",value:"United Arab Emirates"},{label:"United Kingdom",value:"United Kingdom"},{label:"United States",value:"United States"}],f=function(e){var a=e.open,t=e.fetchUsers,l=e.toggleSidebar,s=e.userItem,c=e.userOptions,i=e.roles.filter((function(e){return e.value})),r=Object(d.useState)({}),o=Object(n.a)(r,2),m=o[0],f=o[1],g=Object(d.useState)(""),N=Object(n.a)(g,2),C=N[0],S=N[1],w=Object(d.useState)(""),_=Object(n.a)(w,2),y=_[0],P=_[1],k=Object(d.useState)(""),R=Object(n.a)(k,2),E=R[0],A=R[1],F=Object(d.useState)({}),T=Object(n.a)(F,2),B=T[0],I=T[1],z=Object(d.useState)(""),K=Object(n.a)(z,2),U=K[0],D=K[1],J=Object(d.useState)(""),L=Object(n.a)(J,2),W=L[0],H=L[1],M=Object(d.useState)({}),G=Object(n.a)(M,2),Q=G[0],Y=G[1],q=Object(d.useState)(""),V=Object(n.a)(q,2),X=V[0],Z=V[1],$=s&&s.id?"Edit People":"Add People";Object(d.useEffect)((function(){if(s&&null!==s&&void 0!==s&&s.first_name){var e,a,t,l,n,c,i,r,o,d,u;if(S(null===s||void 0===s?void 0:s.first_name),P(null===s||void 0===s?void 0:s.last_name),A(null===s||void 0===s?void 0:s.email),Z(null===s||void 0===s?void 0:s.designation),H(null===s||void 0===s?void 0:s.phone1),I({label:null===s||void 0===s?void 0:s.country,value:null===s||void 0===s?void 0:s.country}),null!==s&&void 0!==s&&s.role)Y({id:null===s||void 0===s||null===(a=s.role)||void 0===a?void 0:a.id,title:null===s||void 0===s||null===(t=s.role)||void 0===t?void 0:t.title,slug:null===s||void 0===s||null===(l=s.role)||void 0===l?void 0:l.slug,value:null===s||void 0===s||null===(n=s.role)||void 0===n?void 0:n.id,label:null===s||void 0===s||null===(c=s.role)||void 0===c?void 0:c.title});if(null!==s&&void 0!==s&&s.reporting_user&&null!==s&&void 0!==s&&null!==(e=s.reporting_user)&&void 0!==e&&e.id)f({id:null===s||void 0===s||null===(i=s.reporting_user)||void 0===i?void 0:i.id,title:null===s||void 0===s||null===(r=s.reporting_user)||void 0===r?void 0:r.title,value:null===s||void 0===s||null===(o=s.reporting_user)||void 0===o?void 0:o.id,label:"".concat(null===s||void 0===s||null===(d=s.reporting_user)||void 0===d?void 0:d.first_name," ").concat(null===s||void 0===s||null===(u=s.reporting_user)||void 0===u?void 0:u.last_name)})}}),[s]);return Object(x.jsx)(u.a,{size:"lg",open:a,title:$,headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:l,onClosed:function(){},children:Object(x.jsxs)(h.H,{onSubmit:function(e){e.preventDefault();var a={first_name:C,last_name:y,email:E,password:U,phone1:W,role_id:Q.id,country:B.value,gender:"unknown",reporting_to:m.id,designation:X};s&&null!==s&&void 0!==s&&s.id&&(a.id=null===s||void 0===s?void 0:s.id),console.error(" POST ",a),Object(O.c)(a).then((function(e){console.error(" RESPONSE ",e),200===e.response.code?(l(),t()):console.error(" ERROR: Adding User")})).catch((function(e){console.log("ERROR: ",e)}))},children:[Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(h.N,{className:"form-label",for:"first_name",children:["First Name ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(h.K,{name:"first_name",id:"first_name",placeholder:"",value:C,onChange:function(e){return S(e.target.value)}})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(h.N,{className:"form-label",for:"last_name",children:["Last Name ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(h.K,{name:"last_name",id:"last_name",placeholder:"",value:y,onChange:function(e){return P(e.target.value)}})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(h.N,{className:"form-label",for:"password",children:["Password ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(h.K,{name:"password",id:"password",placeholder:"",value:U,onChange:function(e){return D(e.target.value)}})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(h.N,{className:"form-label",for:"userEmail",children:["Email ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(h.K,{name:"email",id:"email",placeholder:"john.doe@example.com",value:E,onChange:function(e){return A(e.target.value)}}),Object(x.jsx)(h.J,{color:"muted",children:"You can use letters, numbers & periods"})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(h.N,{className:"form-label",for:"country_id",children:["Country ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(b.a,{id:"country",isClearable:!1,className:"react-select",classNamePrefix:"select",options:p,value:B,onChange:function(e){I(e)},theme:j.l})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(h.N,{className:"form-label",for:"phone1",children:["Phone ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(h.K,{name:"phone1",id:"phone1",placeholder:"john.doe@example.com",value:W,onChange:function(e){return H(e.target.value)}})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsxs)(h.N,{className:"form-label",for:"country",children:["Role ",Object(x.jsx)("span",{className:"text-danger",children:"*"})]}),Object(x.jsx)(b.a,{isClearable:!1,classNamePrefix:"select",options:i,value:Q,onChange:function(e){return Y(e)},theme:j.l,className:v()("react-select")})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsx)(h.N,{className:"form-label",for:"reporting-to",children:"Reporting To"}),Object(x.jsx)(b.a,{id:"reporting-to",name:"reporting_to",isClearable:!1,className:"react-select",classNamePrefix:"select",options:c,value:m,onChange:function(e){return f(e)},theme:j.l})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsx)(h.N,{className:"form-label",for:"designation",children:"Designation"}),Object(x.jsx)(h.K,{name:"designation",id:"designation",placeholder:"",value:X,onChange:function(e){return Z(e.target.value)}})]}),Object(x.jsx)(h.i,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),Object(x.jsx)(h.i,{type:"reset",color:"secondary",outline:!0,onClick:l,children:"Cancel"})]})})},g=t(512),N=t.n(g),C=t(526),S=t.n(C),w=(t(511),t(513),function(e){var a=e.permission,t=e.openAddBar,l=e.handlePerPage,n=e.rowsPerPage,s=e.handleFilter,c=e.searchTerm;return Object(x.jsx)("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:Object(x.jsxs)(h.ib,{children:[Object(x.jsx)(h.B,{xl:"6",className:"d-flex align-items-center p-0",children:Object(x.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(x.jsx)("label",{htmlFor:"rows-per-page",children:"Show"}),Object(x.jsxs)(h.K,{className:"mx-50",type:"select",id:"rows-per-page",value:n,onChange:l,style:{width:"5rem"},children:[Object(x.jsx)("option",{value:"10",children:"10"}),Object(x.jsx)("option",{value:"25",children:"25"}),Object(x.jsx)("option",{value:"50",children:"50"})]}),Object(x.jsx)("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),Object(x.jsxs)(h.B,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(x.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(x.jsx)("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),Object(x.jsx)(h.K,{id:"search-invoice",className:"ms-50 w-00",type:"text",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(x.jsx)("div",{className:"d-flex align-items-center table-header-actions",children:a&&a.user.create?Object(x.jsx)(h.i,{className:"add-new-user",color:"primary",onClick:t,children:"Add People"}):null})]})]})})}),_=function(){var e=Object(j.f)(),a=Object(d.useState)([]),t=Object(n.a)(a,2),u=t[0],m=t[1],v=Object(d.useState)([]),p=Object(n.a)(v,2),g=p[0],C=p[1],_=Object(d.useState)("desc"),y=Object(n.a)(_,2),P=y[0],k=y[1],R=Object(d.useState)(""),E=Object(n.a)(R,2),A=E[0],F=E[1],T=Object(d.useState)(1),B=Object(n.a)(T,2),I=B[0],z=B[1],K=Object(d.useState)("id"),U=Object(n.a)(K,2),D=U[0],J=U[1],L=Object(d.useState)(10),W=Object(n.a)(L,2),H=W[0],M=W[1],G=Object(d.useState)(!1),Q=Object(n.a)(G,2),Y=Q[0],q=Q[1],V=Object(d.useState)({value:!0,label:"Active",number:0}),X=Object(n.a)(V,2),Z=X[0],$=X[1],ee=Object(d.useState)({value:"",title:"All",label:"All"}),ae=Object(n.a)(ee,2),te=ae[0],le=ae[1],ne=Object(d.useState)([]),se=Object(n.a)(ne,2),ce=se[0],ie=se[1],re=Object(d.useState)({}),oe=Object(n.a)(re,2),de=oe[0],ue=oe[1],je=function(){var e=!Y;q(e),e||ue({})},be={active:"light-success",inactive:"light-secondary"},me=function(e){var a;return null!==e&&void 0!==e&&null!==(a=e.avatar)&&void 0!==a&&a.length?Object(x.jsx)(s.a,{className:"me-1",img:e.avatar,width:"32",height:"32"}):Object(x.jsx)(s.a,{initials:!0,className:"me-1",color:e.avatarColor||"light-primary",content:"".concat(e.first_name," ").concat(e.last_name)||""})},ve=function(){var e={direction:P,keyword:A,sort:D,page:I,perPage:H,active:Z.value?1:0};te&&null!==te&&void 0!==te&&te.value&&null!==te&&void 0!==te&&te.id&&(e.role=null===te||void 0===te?void 0:te.id),Object(O.n)(e).then((function(e){var a=e.response;a&&(200===a.code||400===a.code)&&a.data&&m(a.data)}))};Object(d.useEffect)((function(){ve()}),[Z,H,A,te]),Object(d.useEffect)((function(){Object(O.j)().then((function(e){var a=e.response;if(a&&(200===a.code||400===a.code)&&a.data){a.data.push({value:"",title:"All",label:"All"});var t=a.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{value:e.id,label:e.title})}));ie(t)}})),Object(O.n)({type:"dropdown"}).then((function(e){var a=e.response;if(!a||200!==a.code&&400!==a.code||!a.data)return[];var t=a.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{value:e.id,label:"".concat(e.first_name," ").concat(e.last_name)})}));C(t)}))}),[]);return Object(x.jsxs)(d.Fragment,{children:[Object(x.jsxs)(h.l,{children:[Object(x.jsx)(h.p,{children:Object(x.jsx)(h.v,{tag:"h4",children:"Filters"})}),Object(x.jsx)(h.m,{children:Object(x.jsxs)(h.ib,{children:[Object(x.jsxs)(h.B,{md:"2",xxl:"2",children:[Object(x.jsx)(h.N,{for:"role-select",children:"Role"}),Object(x.jsx)(b.a,{isClearable:!1,value:te,options:ce,className:"react-select",classNamePrefix:"select",theme:j.l,onChange:function(e){le(e)}})]}),Object(x.jsxs)(h.B,{md:"2",xxl:"2",children:[Object(x.jsx)(h.N,{for:"status-select",children:"Status"}),Object(x.jsx)(b.a,{theme:j.l,isClearable:!1,className:"react-select",classNamePrefix:"select",options:[{value:!0,label:"Active",number:0},{value:!1,label:"Inactive",number:1}],value:Z,onChange:function(e){$(e)}})]})]})})]}),Object(x.jsx)(h.l,{className:"overflow-hidden",children:Object(x.jsx)("div",{className:"react-dataTable",children:Object(x.jsx)(S.a,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:[{name:"People",sortable:!0,minWidth:"338px",sortField:"fullName",selector:function(e){return"".concat(e.first_name," ").concat(e.last_name)},cell:function(e){return Object(x.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[me(e),Object(x.jsxs)("div",{className:"d-flex flex-column",children:[Object(x.jsx)("span",{className:"fw-bolder",children:"".concat(e.first_name," ").concat(e.last_name)}),Object(x.jsx)("small",{className:"text-truncate text-muted mb-0",children:e.email})]})]})}},{name:"Role",minWidth:"230px",sortable:!1,selector:function(e){var a;return null===e||void 0===e||null===(a=e.role)||void 0===a?void 0:a.title},cell:function(e){var a;return Object(x.jsx)("span",{className:"text-capitalize",children:null===e||void 0===e||null===(a=e.role)||void 0===a?void 0:a.title})}},{name:"Designation",minWidth:"230px",sortable:!0,sortField:"designation",selector:function(e){return e.designation},cell:function(e){return Object(x.jsx)("span",{className:"text-capitalize",children:e.designation})}},{name:"Reporting To",minWidth:"230px",sortable:!0,sortField:"reporting_to",selector:function(e){return e.reporting_to},cell:function(e){var a,t;return Object(x.jsx)("span",{className:"text-capitalize",children:e.reporting_to?"".concat(null===e||void 0===e||null===(a=e.reporting_user)||void 0===a?void 0:a.first_name," ").concat(null===e||void 0===e||null===(t=e.reporting_user)||void 0===t?void 0:t.last_name):""})}},{name:"Status",minWidth:"138px",sortable:!0,sortField:"active",selector:function(e){return e.active},cell:function(e){return Object(x.jsx)(h.f,{className:"text-capitalize",color:be[e.active?"active":"inactive"],pill:!0,children:e.active?"Active":"Inactive"})}},{name:"Actions",minWidth:"100px",cell:function(a){return e.user.edit||e.user.delete?Object(x.jsx)("div",{className:"column-action",children:Object(x.jsxs)(h.wb,{children:[Object(x.jsx)(h.G,{tag:"div",className:"btn btn-sm",children:Object(x.jsx)(c.a,{size:14,className:"cursor-pointer"})}),Object(x.jsxs)(h.F,{children:[e.user.edit?Object(x.jsxs)(h.E,{tag:"a",href:"/",className:"w-100",onClick:function(e){e.preventDefault(),function(e){ue(e),setTimeout((function(){je()}),500)}(a)},children:[Object(x.jsx)(i.a,{size:14,className:"me-50"}),Object(x.jsx)("span",{className:"align-middle",children:"Edit"})]}):null,e.user.delete?Object(x.jsxs)(h.E,{tag:"a",href:"/",className:"w-100",onClick:function(e){var t;e.preventDefault(),t=a.id,Object(O.d)("users/delete",{id:t}).then((function(e){200===e.response.code?ve():console.error(" ERROR: Delete User")})).catch((function(e){console.log("ERROR: ",e)}))},children:[Object(x.jsx)(r.a,{size:14,className:"me-50"}),Object(x.jsx)("span",{className:"align-middle",children:"Delete"})]}):null]})]})}):null}}],onSort:function(e,a){k(a),J(e.sortField)},sortIcon:Object(x.jsx)(o.a,{}),className:"react-dataTable",paginationComponent:function(){var e=Number(Math.ceil(u.total/H));return Object(x.jsx)(N.a,{previousLabel:"",nextLabel:"",pageCount:e||1,activeClassName:"active",forcePage:0!==I?I-1:0,onPageChange:function(e){return function(e){z(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},data:function(){var e={status:Z.value,keyword:A};null!==te&&void 0!==te&&te.value&&(e.role=te.value);var a=Object.keys(e).some((function(a){return e[a].length>0}));return u.length>0?u:0===u.length&&a?[]:u.slice(0,H)}(),subHeaderComponent:Object(x.jsx)(w,{permission:e,searchTerm:A,rowsPerPage:H,handleFilter:function(e){F(e)},handlePerPage:function(e){var a=parseInt(e.currentTarget.value);M(a)},openAddBar:function(){ue({}),je()}})})})}),Object(x.jsx)(f,{open:Y,fetchUsers:ve,toggleSidebar:je,userItem:de,userOptions:g,roles:ce})]})};t(897),t(637),a.default=function(){return Object(x.jsx)("div",{className:"app-user-list",children:Object(x.jsx)(_,{})})}},513:function(e,a,t){},544:function(e,a,t){"use strict";var l=t(13),n=t(17),s=t(136),c=t(971),i=t(2),r=t.n(i),o=t(510),d=t.n(o),u=t(98),j=t(10),b=["open","size","title","width","children","closeBtn","className","toggleSidebar","bodyClassName","contentClassName","wrapperClassName","headerClassName"];a.a=function(e){var a,t=e.open,i=e.size,o=e.title,m=e.width,v=e.children,h=e.closeBtn,O=e.className,x=e.toggleSidebar,p=e.bodyClassName,f=e.contentClassName,g=e.wrapperClassName,N=e.headerClassName,C=Object(s.a)(e,b),S=h||Object(j.jsx)(c.a,{className:"cursor-pointer",size:15,onClick:x});return Object(j.jsxs)(u.Q,Object(l.a)(Object(l.a)(Object(l.a)({isOpen:t,toggle:x,contentClassName:r()("overflow-hidden",Object(n.a)({},f,f)),modalClassName:r()("modal-slide-in",Object(n.a)({},g,g)),className:r()((a={},Object(n.a)(a,O,O),Object(n.a)(a,"sidebar-lg","lg"===i),Object(n.a)(a,"sidebar-sm","sm"===i),a))},void 0!==m?{style:{width:String(m)+"px"}}:{}),C),{},{children:[Object(j.jsx)(u.T,{className:r()(Object(n.a)({},N,N)),toggle:x,close:S,tag:"div",children:Object(j.jsx)("h5",{className:"modal-title",children:Object(j.jsx)("span",{className:"align-middle",children:o})})}),Object(j.jsx)(d.a,{options:{wheelPropagation:!1},children:Object(j.jsx)(u.R,{className:r()("flex-grow-1",Object(n.a)({},p,p)),children:v})})]}))}},637:function(e,a,t){},897:function(e,a,t){"use strict";var l=t(17),n=t(2),s=t.n(n),c=t(98),i=t(10);a.a=function(e){var a=e.icon,t=e.color,n=e.stats,r=e.renderStats,o=e.statTitle,d=e.className,u=e.statsMargin;return Object(i.jsx)(c.l,{children:Object(i.jsx)(c.m,{className:d,children:Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("div",{children:[r||Object(i.jsx)("h2",{className:s()("fw-bolder",Object(l.a)({"mb-0":!u},u,u)),children:n}),Object(i.jsx)("p",{className:"card-text",children:o})]}),Object(i.jsx)("div",{className:"avatar avatar-stats p-50 m-0 ".concat(t?"bg-light-".concat(t):"bg-light-primary"),children:Object(i.jsx)("div",{className:"avatar-content",children:a})})]})})})}}}]);
//# sourceMappingURL=52.fc9e0980.chunk.js.map